<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Top 50 Cryptocurrencies</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/fc20eca1ac.js" crossorigin="anonymous"></script>
  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.5.0/css/responsive.dataTables.min.css">

  <!-- DATATABLE CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/colreorder/2.0.3/css/colReorder.bootstrap5.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/2.3.1/css/searchPanes.bootstrap5.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/select/2.0.3/css/select.bootstrap5.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/2.3.1/css/searchPanes.dataTables.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/select/2.0.3/css/select.dataTables.css">
  
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/3.0.2/css/buttons.dataTables.css">

  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/3.0.2/css/responsive.bootstrap5.css">

  <!-- ✅ SearchPanes CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/searchpanes/2.2.0/css/searchPanes.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/select/1.7.0/css/select.dataTables.min.css">


  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/main.css">
</head>
<body>
  <%- include("./partials/navbar.ejs") %>
  <div class="container-fluid mt-5 py-5">
    <h1 class="mb-4 text-center">Top 100 Cryptocurrencies</h1>
    <table id="cryptoTable" class="table table-bordered display wrap" style="width:100%">
      <thead class="table-primary table-striped">
        <tr>
          <th class="bg-primary text-light">#</th>
          <th class="bg-primary text-light">Coin</th>
          <th class="bg-primary text-light">Symbol</th>
          <th class="bg-primary text-light">Price (USD)</th>
          <th class="bg-primary text-light">Market Cap</th>
          <th class="bg-primary text-light">Rank</th>
          <th class="bg-primary text-light">Price Change (24h)</th>
          <th class="bg-primary text-light">24h High / Low</th>
          <th class="bg-primary text-light">ATH</th>
          <th class="bg-primary text-light">ATL</th>
        </tr>
      </thead>
      <tbody>
        <% topCryptos.forEach((coin, index) => { %>
          <tr>
            <td><%= index + 1 %></td>
            <td style="max-width: 100px; white-space: wrap;">
              <img src="<%= coin.image %>" alt="<%= coin.name %>" style="width: 25px; height: 25px; margin-right: 10px;">
              <%= coin.name %>
            </td>
            <td><%= coin.symbol.toUpperCase() %></td>
            <td>$<%= coin.current_price.toLocaleString() %></td>
            <td>$<%= coin.market_cap.toLocaleString() %></td>
            <td>#<%= coin.market_cap_rank %></td>
            <td class="<%= coin.price_change_percentage_24h >= 0 ? 'text-success' : 'text-danger' %>">
              <%= coin.price_change_percentage_24h.toFixed(2) %>%<br>
              $<%= coin.price_change_24h.toLocaleString() %>
            </td>
            <td>
              <small>High: $<%= coin.high_24h.toLocaleString() %></small><br>
              <small>Low: $<%= coin.low_24h.toLocaleString() %></small>
            </td>
            <td>
              $<%= coin.ath.toLocaleString() %><br>
              (<%= coin.ath_change_percentage.toFixed(2) %>%)
            </td>
            <td>
              $<%= coin.atl.toLocaleString() %>
            </td>
          </tr>
        <% }); %>
      </tbody>
    </table>
  </div>

  <!-- jQuery -->
   <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <!-- DataTables JS -->
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.colVis.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.5.0/js/dataTables.responsive.min.js"></script>

  <!-- ✅ SearchPanes JS -->
  <script src="https://cdn.datatables.net/searchpanes/2.2.0/js/dataTables.searchPanes.min.js"></script>
  <script src="https://cdn.datatables.net/select/1.7.0/js/dataTables.select.min.js"></script>

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/1.7.1/js/buttons.colVis.min.js"></script>

  <script src="/js/script.js"></script>
</body>
</html>
